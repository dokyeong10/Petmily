# ğŸ“„ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì™¸ë¶€ì„œë¹„ìŠ¤ ì •ë³´ ë¬¸ì„œ

ì‚¬ìš©í•œ ì •ë³´ ë¬¸ì„œ: ì¹´ì¹´ì˜¤ ì§€ë„ API

í•„ìš”í•œ ì •ë³´: KaKao ID, Keyê°’

- [https://apis.map.kakao.com/](https://apis.map.kakao.com/)ì— ì ‘ì† í›„ ì‚¬ìš©í•  platform ì„ íƒ
- PetmilyëŠ” web ì„œë¹„ìŠ¤ì´ë¯€ë¡œ webì„ ì„ íƒ
- í•´ë‹¹ í˜ì´ì§€ ë‚´ì— ë“¤ì–´ê°€ë©´ Guideë€ì´ ìˆìœ¼ë©° ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©ë²•ì´ ìì„¸íˆ ë‚˜ì™€ìˆìŒ
  1. *[ì¹´ì¹´ì˜¤ ê°œë°œìì‚¬ì´íŠ¸](https://developers.kakao.com/)* (https://developers.kakao.com) ì ‘ì†
  2. ê°œë°œì ë“±ë¡ ë° ì•± ìƒì„±
  3. ì›¹ í”Œë«í¼ ì¶”ê°€: ì•± ì„ íƒ â€“ [í”Œë«í¼] â€“ [Web í”Œë«í¼ ë“±ë¡] â€“ ì‚¬ì´íŠ¸ ë„ë©”ì¸ ë“±
  4. ì‚¬ì´íŠ¸ ë„ë©”ì¸ ë“±ë¡: [ì›¹] í”Œë«í¼ì„ ì„ íƒí•˜ê³ , [ì‚¬ì´íŠ¸ ë„ë©”ì¸] ì„ ë“±ë¡í•©ë‹ˆë‹¤. (ì˜ˆ: http://localhost:8080)
  5. í˜ì´ì§€ ìƒë‹¨ì˜ [JavaScript í‚¤]ë¥¼ ì§€ë„ APIì˜ appkeyë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.
  6. ì•±ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.

- ê°œë°œì ë“±ë¡ ë° ì•± ìƒì„±ì€ (1ë²ˆ)ì—ì„œ ì¹´ì¹´ì˜¤ ì•„ì´ë””ë¡œ ë¡œê·¸ì¸í•œ í›„ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¶”ê°€í•˜ê¸° ë²„íŠ¼ì„ ëˆ„ë¥¸ í›„ ë“±ë¡í•˜ë©´ ë¨.
- ì•„ì´ì½˜, ì•± ì´ë¦„, ì‚¬ì—…ì ëª… í”„ë¡œì íŠ¸ì˜ ì´ë¦„ê³¼ ì‚¬ìš©ìì˜ ì´ë¦„ì„ ì ì–´ì£¼ì—ˆìŒ.
- ì´í›„ ë§Œë“  ì• í”Œë¦¬ì¼€ì´ì…˜ í˜ì´ì§€ì— ë“¤ì–´ê°€ì„œ í•´ë‹¹ ì‚¬ì´íŠ¸ì˜ url ì£¼ì†Œë¥¼ ì ì–´ì¤Œ. ì˜ˆë¥¼ ë“¤ì–´ localhostë¥¼ ì‚¬ìš©í•œë‹¤ë©´ í•´ë‹¹ urlì„ ì „ë¶€ ì ì–´ì£¼ê³  ë°°í¬ëœ ì‚¬ì´íŠ¸ì—ì„œ ì‚¬ìš©í•˜ë ¤ë©´ ì‚¬ì´íŠ¸ì˜ urlì„ ì ì–´ì£¼ë©´ ë¨. ì‚¬ì´íŠ¸ ë„ë©”ì¸ ë“±ë¡ê¹Œì§€ ì „ë¶€ ëë‚œ í›„ ì•„ë˜ì™€ ê°™ì´ Petmilyë¼ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì¹´ì¹´ì˜¤ ì§€ë„ APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” keyê°’ì„ ë°›ì„ ìˆ˜ ìˆìŒ.![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-08-19 á„‹á…©á„Œá…¥á†« 11.20.07](./img/á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-08-19 á„‹á…©á„Œá…¥á†« 11.20.07.png)

- ìœ„ì—ì„œ í•´ë‹¹ keyê°’ì„ ì‚¬ìš©í•˜ì—¬ ì§€ë„ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ. ë³¸ í”„ë¡œì íŠ¸ì—ì„œëŠ” JavaScriptí‚¤ë¥¼ ì´ìš©í•¨.

- pythonì„ ì´ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ ì›¹ ì„œë²„ ì‹¤í–‰ì€ ìŠ¤í‚µí•´ë„ ìƒê´€ì—†ìŒ

- ê¸°ë³¸ì ì¸ ì‚¬ìš©ë²•ì€ html ë¬¸ì„œì— ì§€ë„ë¥¼ ë‹´ì„ ì˜ì—­ê³¼ ì´ë¥¼ í†µì œí•˜ê¸° ìœ„í•œ JavaScript ì½”ë“œê°€ í•„ìš”í•¨.

- ë³¸ í”„ë¡œì íŠ¸ì—ì„œ vue íŒŒì¼ì—ì„œ ì¹´ì¹´ì˜¤ ì§€ë„ APIë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ ì‚¬ì „ì— package.jsoníŒŒì¼ì— ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œë¥¼ ì‘ì„±

  ```json
  "globals": {
        "kakao": false
      }
  ```

  ì´ê²ƒì„ ì‚¬ìš©í•´ì•¼ ì¹´ì¹´ì˜¤ ì§€ë„ APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ. ì´í›„ Vue3ì˜ ShelterLocation.vueë¼ëŠ” íŒŒì¼ì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œë¥¼ ì‘ì„±í•¨.

  ```vue
  <template>
    <br />
    <br />
    <div>
      <h2>ì˜¤ì‹œëŠ” ê¸¸</h2>
      <div class="d-flex mx-auto justify-content-center" style="width:1000px;height:450px;">
        <div class="" id="map" style="width:900px;height:400px;"></div>
      </div>
    </div>
  </template>
  <script>
  export default {
    name: "ShelterLocation",
    props: {
      location: Object,
      agencyInfo: Object,
    },
    mounted() {
      if (window.kakao && window.kakao.map) {
        this.initMap();
      } else {
        const script = document.createElement("script");
        /* global kakao */
        script.onload = () => kakao.maps.load(this.initMap);
        // ì¹´ì¹´ì˜¤ì—ì„œ ë°›ì€ javascriptí‚¤ ê°’ ì‚¬ìš©
        script.src =
          "http://dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=b22c5ac8dfbf7a1a5b88a66c9907591d";
        document.head.appendChild(script);
      }
    },
    methods: {
      initMap() {
        const container = document.getElementById("map");
        const options = {
          center: new kakao.maps.LatLng(this.location.lat, this.location.lng), //, ì§€ë„ì˜ ì¤‘ì‹¬ì¢Œí‘œ
          level: 4,
        };
        const map = new kakao.maps.Map(container, options); //ë§ˆì»¤ì¶”ê°€í•˜ë ¤ë©´ ê°ì²´ë¥¼ ì•„ë˜ì™€ ê°™ì´ í•˜ë‚˜ ë§Œë“ ë‹¤.
  
        var imageSrc = "https://image.flaticon.com/icons/png/512/5015/5015093.png", // ë§ˆì»¤ì´ë¯¸ì§€ì˜ ì£¼ì†Œì…ë‹ˆë‹¤
          imageSize = new kakao.maps.Size(55, 60), // ë§ˆì»¤ì´ë¯¸ì§€ì˜ í¬ê¸°ì…ë‹ˆë‹¤
          imageOption = { offset: new kakao.maps.Point(27, 69) }; // ë§ˆì»¤ì´ë¯¸ì§€ì˜ ì˜µì…˜ì…ë‹ˆë‹¤. ë§ˆì»¤ì˜ ì¢Œí‘œì™€ ì¼ì¹˜ì‹œí‚¬ ì´ë¯¸ì§€ ì•ˆì—ì„œì˜ ì¢Œí‘œë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
  
        var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imageOption),
          markerPosition = new kakao.maps.LatLng(this.location.lat, this.location.lng); // ë§ˆì»¤ê°€ í‘œì‹œë  ìœ„ì¹˜ì…ë‹ˆë‹¤// ë§ˆì»¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
  
        var marker = new kakao.maps.Marker({
          position: markerPosition,
          image: markerImage, // ë§ˆì»¤ì´ë¯¸ì§€ ì„¤ì •
        });
  
        marker.setMap(map);
  
        // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ì— í‘œì¶œë  ë‚´ìš©ìœ¼ë¡œ HTML ë¬¸ìì—´ì´ë‚˜ document elementê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤
        var content =
          '<div class="customoverlay">' +
          '<a href="https://map.kakao.com/link/to/' +
          this.agencyInfo.agencyname +
          "," +
          this.location.lat +
          "," +
          this.location.lng +
          '" <a href="https://map.kakao.com/link/to/' +
          this.agencyInfo.agencyname +
          "," +
          this.location.lat +
          "," +
          this.location.lng +
          '" target="_blank"><span class="title">' +
          this.agencyInfo.agencyname +
          "</span></a>" +
          "</div>";
  
        // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ê°€ í‘œì‹œë  ìœ„ì¹˜ì…ë‹ˆë‹¤
        var position = new kakao.maps.LatLng(this.location.lat, this.location.lng);
  
        // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
        var customOverlay = new kakao.maps.CustomOverlay({
          map: map,
          position: position,
          content: content,
          yAnchor: 1,
        });
      },
    },
  };
  </script>
  <style>
  .customoverlay {
    position: relative;
    bottom: 85px;
    border-radius: 6px;
    border: 1px solid #ccc;
    border-bottom: 2px solid #ddd;
    float: left;
  }
  .customoverlay:nth-of-type(n) {
    border: 0;
    box-shadow: 0px 1px 2px #888;
  }
  .customoverlay a {
    display: block;
    text-decoration: none;
    color: #000;
    text-align: center;
    border-radius: 6px;
    font-size: 14px;
    font-weight: bold;
    overflow: hidden;
    background: #d95050;
    background: #d95050 url(https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/arrow_white.png)
      no-repeat right 14px center;
  }
  .customoverlay .title {
    display: block;
    text-align: center;
    background: #fff;
    margin-right: 35px;
    padding: 10px 15px;
    font-size: 14px;
    font-weight: bold;
  }
  .customoverlay:after {
    content: "";
    position: absolute;
    margin-left: -12px;
    left: 50%;
    bottom: -12px;
    width: 22px;
    height: 12px;
    background: url("https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/vertex_white.png");
  }
  </style>
  ```

  -ë-

 

