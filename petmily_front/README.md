# 📰README --petmily

### ✏️ 소개

- 프로젝트 기간 : _2021.7.12(월) ~ 2021.8.20(금)_

- 개발자 : 박준규(리더), 이경민(git 담당), 김태랑(스타일링)

- 와이어프레임 : Figma

- 로고: 미리캔버스

- 목표 :

  - vue3 구조 이해

  - 유기 동물 라이브를 통해 입양 활성화

  - 프론트엔드 개발자로서 백엔드와의 원활한 소통을 통한 성공적인 프로젝트 경험 쌓기

  - WebRTC 학습 및 활용

### ✏️ 구성 화면

- Home.vue : 메인 화면 ![home](README.assets/home.png)

  - 사이트의 목표

  - 진행중인 라이브 방송
  - 유기동물 목록
  - 유기동물 보호 단체
  - 개발자들

- shelter

  - 보호소 정보 및 지도, 등록한 동물 정보를 conponents로 사용하여 보호소의 상세 정보를 보여줌

- live

  - 방송정보

- animal

  - 유기동물 목록
  - 필터와 검색 기능을 구현
  - 각 동물에 대한 디테일 페이지 구현

- accounts

  - 기관 및 개인 회원으로 구분하여 가입, 비밀번호 찾기, 마이페이지등을 구현

---

### 과정 및 느낀 점

##### 기능 별 주요 컴포넌트들

Main

> Navbar.vue
>
> - 어느 정도 이하로 폭이 줄어들면 메뉴 버튼으로 숨기는 기능을 구현하지 못해서 아쉬웠다.

Home

> Home.vue
>
> > HomeLiveList.vue
> >
> > - 스타일링
> >   - 캐러젤이 많은 스트레스를 줬다. vue2에서 가져온 코드는 제대로 동작하지 않았고 잠시 vue3를 쓰기로 한 사람을 원망할 뻔 했다. 완성 후에도 화살표와 크기 배치가 마음대로 되지 않아 힘들었다. 팀원들의 도움을 받아 해결할 수 있었다.
> > - 코드
> >   - v-for를 통해 데이터를 받는 코드를 짜는데 어려움을 겪었다. vue에 익숙하지 않아 준규님의 도움을 받아 해결할 수 있었다.
> >
> > HomeAnimallList.vue
> >
> > - 스타일링
> >   - 원하는곳에 배치하기 위해 컴퍼넌트 내에서 조절하다 포기하고 Home.vue를 이용해 container를 만들어 조절했다. 위치를 조절하는데 익숙하지 않아 억지로 끼워맞춘 느낌이 든다. 실제로 그렇다.
> >
> > LifeGuardians.vue
> >
> > - 스타일링
> >   - 받아온 쉘터 정보를 이용해 카드형식으로 뿌려줬다. 캐러젤을 이용해야 한다는 생각을 했지만 쉽지 않았기에 포기하고 있었는데 우렁팀장님이 어느새 뚝딱 해결하셨다.

Accounts

> 전체적인 구조
>
> - **Point**: 개인과 기관
>   - 관리해야 할 회원이 2 종류이기 때문에 데이터를 입력 받는 형식이 모두 다르다. 따라서 개인용 코드와 기관용 코드를 모두 따로 만들 수 밖에 없었다. 물론 해당 페이지에서 겹치는 부분은 component로 만들어서 최소한 반복되는 코드를 줄이기 위한 노력을 진행했지만, Accounts의 파일 구조가 커지는 단점이 생기게 되었다.
>
> AgencyForm.vue
>
> - 기관 코드 검색 모달을 구현하며, 검색결과를 form의 value로 바로 넣는 기능을 학습할 수 있었다.
> - 사진 등록 기능을 구현하며, 사용자가 업로드한 파일을 처리하는 방법을 학습할 수 있었다.
>
> Login.vue
>
> - 코드
>
>   - radio button에서 value를 v-bind(:)해 주어야 실시간으로 바인딩된 값으로 변경되는 것을 알게 되었다. 이것을 해주지 않아 한번 값을 바꾸면 다시 바꾸지 못하는 문제가 있었다.
>   - input 태그 다음에 button 태그가 있으면 input에서 엔터키 입력시 button 태그에 v-on(@) 된 메서드가 실행되는 것을 알게 되었다. 비밀번호 입력 후 엔터 키 입력시 `@keyup.enter`로 연결한 로그인 메서드 대신에 button 태그에 `@click`으로 연결되어 있던 비밀번호 찾기 메서드가 실행되는 문제가 있었다. button 태그를 a 태그로 변경하여 해결하였다.
>
> - 스타일링
>
>   - container 구조를 사용해 Figma에서 만든 목업과 똑같이 배치하기 위해 노력했다.
>
>     오랜만에 해보는 스타일링으로 부트스트랩과 css를 복습해가며 진행해야 했기에 많은 시간이 걸렸다.
>
> ProfileAgency.vue
>
> > AgencyRegisterAnimal.vue
> >
> > - v-for 안에서 모달을 사용하는 방법에 대해 학습할 수 있었다. 모달을 여는 button의 data-bs-target 속성과 모달의 최상위 태그의 id 속성에 v-bind(:)을 사용하여 v-for의 항목마다 각각 사용할 수 있었다. `:data-bs-target="'#animal' + animal.no", :id="'animal' + animal.no"`

Animal

> AnimalDetail.vue
>
> - 스타일링
>   - Home에서 container를 이용해 위치를 변경하고 margin으로 디테일한 위치를 맞추는데 익숙해져 상대적으로 금방 해결할 수 있었다.
>   - 입양절차를 만드는데 가장 오랜 시간이 걸렸다. 처음에는 pre를 이용하려 했으나 텍스트 배경안에 글을 쓰는 방식이 익숙하지 않아 위치 조정이 어려웠다. 특히 둥근 이미지에 숫자를 넣는것이 어려웠는데 position absolute와 transfor translate를 이용해 해결했다. 또한 텍스트의 백그라운드에 색을 줘서 이미지에 글씨를 쓰지 않고 텍스트 상자만으로 해결할 수 있었다.
>
> AnimalList.vue
>
> - 필터 기능, 카드 기능, 즐겨찾기 기능, 페이지네이션 기능 등 중요한 기능들이 다수 포함된 종합선물세트같은 페이지였다. 그런 만큼 구현하는데 가장 오랜 시간과 노력을 투자하였다.
>
> - 부모-자식 컴포넌트 간의 상호작용이 익숙치 않아 한 컴포넌트에 모든 구성요소를 구현하였다. 기능은 성공적으로 구현하였지만 유지보수가 용이하지 못한 코드가 되었다.
>
> AnimalRegister.vue
>
> - 다중 파일 업로드 구현으로 인해 많은 시간과 노력을 들이게 되었다.
> - 기관 번호를 받아올 때 처음에는 jwt를 전송하여 response로 받아오는 형태를 취했으나, 여러 개의 axios를 사용하며 여러 문제들이 발생하여 localstorage에 기관 번호를 저장하는 방식으로 변경하였다.
>
> > AnimalCarousel.vue
> >
> > - 캐러젤이라는 컴포넌트가 얼마나 까다롭게 구는 컴포넌트인지 느낄 수 있었다. 태그 구조를 조금만 틀려도 오작동하기 일쑤였고, 스타일링 및 크기조절 또한 일반적인 개체들과는 다르게 의도대로 잘 적용되지 않았다. 결국 픽셀값을 주어 고정된 크기를 사용하게 해서 아쉬웠다.

Community

> 전체적인 구조
>
> - **Point**
>   - 커뮤니티에서 가장 중요한 것은 내가 쓴 글은 나만 삭제할 수 있고, 남이 쓴 글은 삭제할 수 없다는 것에 초점을 맞췄다. 따라서 현재 가입한 회원의 key값을 확인하면서 서버에서 보내온 키값과 같다면 삭제할 수 있는 버튼을 생성하도록 코드를 작성했다.
>
> BoardDetail.vue
>
> > - 해당 글의 데이터를 모두 받아와서 보여주어야 했기 때문에, 코드의 번잡함이 늘어날 수 밖에 없는 페이지이다. 따라서 각 기능 별로 모두 component를 만들었다. 이를 통해 코드의 복잡함을 줄이기 위해서 노력했다.
>
> Community.vue
>
> > CommunityPagination.vue
> >
> > - 부모 컴포넌트에서 자식 컴포넌트에게 데이터를 내려주고(props), 자식 컴포넌트에서 부모 컴포넌트에게 이벤트를 올려주는(emit) 방식에 대해 학습할 수 있었다. 자식 컴포넌트인 페이지네이션에서 부모의 현재 페이지의 값을 바꿔주려고 하였는데, 직접 바꾸려고 시도하다 잘못된 방식인 것을 깨닫고 이벤트를 통하여 부모 컴포넌트에서 변경하였다.

Live

> > Live.vue
> >
> > - modal을 이용해 방생성 기능을 구현했다. Localstorage에 기관 표시가 있어야만 라이브 방생성 버튼이 보이도록 활성화를 하고, 라이브 리스트를 자식 컴포넌트를 활용해 목록이 보이도록 구현했다.
>
> > LiveRoom.vue
> >
> > - Openvidu의 vue 코드 예제를 활용해 라이브를 구현했다. RestApi를 활용했고, 기관 코드를 방 아이디로 고정하고, 닉네임을 User의 이름으로 설정했다. Session에 들어오면 카운트를 세서 현재 시청자수를 표시했고, 방장은 Publisher를 할당하고, 비회원, User 등은 Subscriber로 할당해 얼굴과, 마이크가 활성화 되지 않도록 구현했다. 방장이 라이브를 종료하면, Disconnected 되어 방의 모든 사람들이 방에서 나가지도록 구현했다.
> >
> > - WebSocket 통신을 활용한 화상채팅, -messageForm, messageList, message 의 자식 컴포넌트를 부모의 현재 페이지에 활성화 되도로 구현했다.

Shelter

> ShelterDetail.vue

### 총평

경민: 처음에는 익숙하지 않았던 vue.js, 그것도 처음 다뤄보는 vue 3.0 버전을 이용하게 되어 걱정이 앞섰다. 하지만 코드와 팀원들, 공식 문서, 구글과 부대끼며 열심히 코딩한 끝에 이제는 내가 원하는 기능들을 생각한 대로 어느 정도 구현이 가능한 수준까지 왔다고 생각한다. 하지만 클린 코딩과 스타일링은 부족하다고 생각하고, 더 많은 경험을 쌓아야겠다는 생각을 하게 되었다. 프론트엔드 개발이란 어떤 것인지 느낄 수 있는 좋은 경험이 되었다.

태랑: 스타일링을 하며 와이어프레임을 만드는데 많은 시간을 투자해준 팀원들에게 감사함을 느꼈다. 만들어진 목업대로 배치하고 구현하는 것도 쉽지는 않았지만 이미 짜여진 틀이 있었기에 많은 도움이 됐다.

이번 프로젝트를 진행하며 팀에 큰 민폐를 끼쳤다. 개발자가 아닌 다른 진로를 선택해 많은 시간을 프로젝트에 투자하지 못했고 자연스레 팀원들의 부담이 늘어났다. 진작 포기했어야 했는데 병행할 수 있을거라는 욕심이 잘못 됐던 것 같다. 그럼에도 별 말 없이 프로젝트를 진행해준 팀원들 덕분에 마지막 개발을 잘 끝내며 싸피를 마무리 할 수 있었다. 다들 하고자하는 일 잘 되고 개발자로서 성공하셨으면 좋겠다.

준규: 이번에 vue3를 처음으로 활용해서 만들었는데, 이 부분이 많이 힘들었다. 하지만 새로운 기술을 배운다는게 이제는 흥미롭고 재미있다는 느낌을 받아서 앞으로도 쭉 개발을 하면서 새로운 내용을 배웠으면 한다. 프론트를 넘어서 풀스택으로!
